## 存储例程




#### 存储过程
* 看一个创建存储过程的例子
```sql
DROP PROCEDURE IF EXISTS schema_change; -- 如果存在schema_change，则删除这个名称为schema_change的存储过程
DELIMITER //
CREATE PROCEDURE schema_change() -- 创建一个名为schema_change的存储过程
BEGIN
    DECLARE CurrentDatabase VARCHAR(100); -- DECLARE语句用于在SQL Server中声明变量。它用于声明变量。变量声明后，将初始化为NULL。要为变量分配值，使用SET或SELECT语句。
    SELECT DATABASE() INTO CurrentDatabase; -- 将当前数据库的名称存储到名为 CurrentDatabase 的变量中
    -- Stored procedure code goes here
END //
DELIMITER ;
CALL schema_change();
```
* `BEGIN 是 MySQL 存储过程的语句块的开始标志。END // 是存储过程的结束标志。`
* SELECT DATABASE() INTO CurrentDatabase; 是一个 MySQL 语句，`用于将当前数据库的名称存储到名为 CurrentDatabase 的变量中`
* `DELIMITER // 将分隔符从分号（；）更改为双斜杠（//）2这样做是为了在存储过程中使用分号，而不会导致MySQL客户端将其解释为语句的结尾`
* `END // 之后的DELIMITER ; 表示存储过程结束`
* `CALL schema_change();表示执行这个存储过程`

#### 信息模式
* `TABLE_SCHEMA 是 MySQL 数据库中的一个信息模式，用于存储关于数据库的元数据信息，例如数据库名称、表名称、列名称等。1`
* `在 MySQL 中，可以使用 information_schema.tables 系统表来查询关于表的元数据信息。例如，以下 SQL 语句将返回当前数据库中所有表的名称和所属数据库的名称：`
```sql
SELECT TABLE_NAME, TABLE_SCHEMA
FROM information_schema.tables;
```
* 这`将返回一个结果集，其中每一行都包含一个表的名称和所属数据库的名称。` 
* `其中，TABLE_SCHEMA 列包含了每个表所属的数据库的名称。`

* `MySQL中的STATISTICS表存放的是索引的信息，包括索引的名称、索引前缀、索引的类型等等。这些信息可以用来优化查询，提高查询效率。`

